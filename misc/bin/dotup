#!/usr/bin/env bash

##--> A sscript to update the dotfiles <--##

URL="https://github.com/adityastomar67/dots"

[ -d $HOME/dotfiles ] && cd $HOME/dotfiles

clear

echo "$(tput bold)Updating the config...$(tput sgr0)\n\n"

echo "Choose wether you want to reset the changes or persist them over update?.."
select opt in "Remove" "Persist"; do
    if [ $opt ]; then
        break
    fi
done

if [ $opt = "Remove" ]; then
    echo "$(tput setaf 1)❌ Removing the changes...$(tput sgr0)"
    git reset --hard
    git pull

else
    git stash
    git pull
    git stash pop
fi

echo "$(tput setaf 3)✓ Successfully Updated the Dotfiles.$(tput sgr0)"
